(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(11),l=a.n(r),c=a(20),o=a(29),s=a(71),m=a(4),u=a(5),d=a(9),h=a(6),v=a(10),p=a(35),f=a(34),b=a(51),E=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("button",{className:this.props.isActive?"btn-active":"btn",onClick:this.props.clicked},this.props.mins," min"))}}]),t}(n.Component),w=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("button",{className:this.props.isActive?"btn-active-day":"btn-day",onClick:this.props.clicked},"Full Day"))}}]),t}(n.Component),N=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).changedMins=function(t){e.setState({active:t}),e.props.onSelectWindow(t)},e.toDaysHandler=function(t){t.preventDefault(),e.setState({active:"days"}),e.props.onSelectWindow(1)},e.state={active:30},e}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"topbar"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"topBar"},i.a.createElement(E,{mins:"15",clicked:function(){e.changedMins(15)},isActive:15===this.state.active}),i.a.createElement(E,{mins:"30",clicked:function(){e.changedMins(30)},isActive:30===this.state.active}),i.a.createElement("div",{className:"topBar_center"},i.a.createElement("p",{className:"topBar_center_title"},"select time"),i.a.createElement("p",{className:"topBar_center_day"},"\u2013 OR \u2013"),i.a.createElement(w,{isActive:"days"===this.state.active,clicked:function(t){return e.toDaysHandler(t)}})),i.a.createElement(E,{mins:"45",clicked:function(){e.changedMins(45)},isActive:45===this.state.active}),i.a.createElement(E,{mins:"60",clicked:function(){e.changedMins(60)},isActive:60===this.state.active}))))}}]),t}(n.Component);function T(e,t){var a=new Date(e);return a.setDate(a.getDate()+t),a}function y(e,t){var a=new Date(e);return a.setDate(a.getDate()-t),a}var S={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"};function g(){var e=function(){var e=new Date,t=e.getDay(),a=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(a))}();return C(function(e,t){var a=[],n=e;for(;n<=t;)a.push(n),n=T(n,1);return a}(e,T(e,6)))}function _(e,t){var a=e.split(" "),n=t.split(" ");e="pm"===a[1]&&a[0]<12?Number(a[0])+12:"am"===a[1]&&12===a[0]?Number(a[0])-12:Number(a[0]),t="pm"===n[1]&&n[0]<12?Number(n[0])+12:"am"===n[1]&&12===n[0]?Number(n[0])-12:Number(n[0]);for(var i=[];e<=t;)i.push(e),e++;return i}function O(e,t){for(var a=[],n=1;n<=7;){if(t)var i=T(e,n);else i=y(e,n);a.push(i),n+=1}return!1===t&&a.reverse(),a}function j(e,t){if(t)var a=T(e,1);else a=y(e,1);return a}function k(e){return e.map(function(e){return new Date(e)})}function C(e){return e.map(function(e){return"".concat(S[e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())})}function z(e,t){var a=[],n=[],i=[];return t.forEach(function(e){i.push("".concat(e,":00")),i.push("".concat(e,":15")),i.push("".concat(e,":30")),i.push("".concat(e,":45"))}),i.forEach(function(t){var i={};e.forEach(function(e){i["".concat(e," ").concat(t)]=0}),a.push(i),n.push("".concat(e[0]," ").concat(t))}),[a,n]}function D(e){return e.map(function(e){for(var t in e)e[t]=0;return e}),e}function H(e,t){return e.map(function(e){return Object.keys(e).forEach(function(a){t.includes(a)?0===e[a]&&(e[a]=1):1===e[a]&&(e[a]=0)}),e}),e}var W=function(e){var t=Object(o.a)(e.table),a=e.creatorTimezone,n=e.inviteeTimezone,r=Object(o.a)(e.dates).map(function(e){return new Date(e).getDate()}),l=e.window,c=e.mobileTable,s=function(e,t,a,n){var i=[],r=0;if(n<624){var l=!0,c=!1,o=void 0;try{for(var s,m=e[Symbol.iterator]();!(l=(s=m.next()).done);l=!0){var u=s.value,d={},h=a[r],v=u[h],p=new Date(h),f=p.getDate();if(1===t)d[f]=v;else{var b=p.getMinutes();b%t===0&&(d[h]=v)}if(i.push(d),1===t)break;r++}}catch(_){c=!0,o=_}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}}else{var E=!0,w=!1,N=void 0;try{for(var T,y=e[Symbol.iterator]();!(E=(T=y.next()).done);E=!0){var S=T.value;for(var g in d={},S)v=S[g],f=(p=new Date(g)).getDate(),1===t?d[f]=v:(b=p.getMinutes())%t===0&&(d[g]=v);if(i.push(d),1===t)break}}catch(_){w=!0,N=_}finally{try{E||null==y.return||y.return()}finally{if(w)throw N}}}return i}(t,l,c,e.vw);return i.a.createElement("div",{className:"TimeSelect"},i.a.createElement("div",{className:"TimeSlot"},i.a.createElement("div",{className:"TimeSlot_col"},s.map(function(t,c){return 0===Object.entries(t).length?null:i.a.createElement("div",{className:"TimeSlot_col_row",key:c},r.map(function(r,o){var s,m="";if(0!==Object.keys(t).length){for(var u=0,d=Object.keys(t);u<d.length;u++){var h=d[u];if(1===l){if(parseInt(h)===r){m=h;break}}else if(new Date(h).getDate()===r){m=h;break}}return""===m?null:i.a.createElement("button",{className:(s=t[m],1===s?"TimeSlot_time TimeSlot_time_selected":0===s?"TimeSlot_time":"TimeSlot_time TimeSlot_time_invitee_selected"),draggable:"true",onClick:function(a){return e.onTimeSelect(a,m,t[m])},key:c+o},i.a.createElement("p",{className:"TimeSlot_time_value"},function(e,t,a,n){if(1===t)return e;var i,r,l=new Date(e),c=l.getHours(),o=c,s=l.getMinutes(),m=c>=12?"pm":"am",u=(r=n,"PST"===(i=a)&&"MST"===r?1:"PST"===i&&"CST"===r?2:"PST"===i&&"EST"===r?3:"MST"===i&&"PST"===r?-1:"MST"===i&&"CST"===r?1:"MST"===i&&"EST"===r?2:"CST"===i&&"PST"===r?-2:"CST"===i&&"MST"===r?-1:"CST"===i&&"EST"===r?1:"EST"===i&&"PST"===r?-3:"EST"===i&&"MST"===r?-2:"EST"===i&&"CST"===r?-1:0);return 0!==u&&(o=c+u,"am"===m&&c<12&&o>=12?m="pm":"pm"===m&&c<24&&o>=24&&(m="am")),o=(o%=12)||12,0===s?"".concat(o).concat(m):":".concat(s)}(m,l,a,n)))}return null}))}))))},M=function(e){return i.a.createElement("div",null,i.a.createElement(W,{creatorTimezone:e.creatorTimezone,inviteeTimezone:e.inviteeTimezone,dates:e.dates,mobileTable:e.mobileTable,window:e.window,table:e.table,onTimeSelect:e.onTimeSelect,vw:e.vw}))};function A(){return i.a.createElement("div",{className:"credits"},i.a.createElement("p",{className:"credits_text"},"Made by"," ",i.a.createElement("a",{href:"https://twitter.com/karthikkalyan90",rel:"noopener noreferrer",target:"_blank"},"Karthik")," ","and"," ",i.a.createElement("a",{href:"https://www.charlesscheuer.com",rel:"noopener noreferrer",target:"_blank"},"Charlie"),"."))}function x(){return i.a.createElement("svg",{className:"calendar_icon",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 64 80","aria-labelledby":"title"},i.a.createElement("title",{id:"title"},"Calendar Icon"),i.a.createElement("path",{fill:"currentColor",d:"M63,56.66l-4.9-29.42h0A3,3,0,0,0,59,25V21a3,3,0,0,0-3-3H54.57a5,5,0,0,0-9.16,0H42.57a5,5,0,0,0-9.16,0H30.57a5,5,0,0,0-9.16,0H20a3,3,0,0,0-3,3v4a3,3,0,0,0,.84,2.08l-0.54,1.08L14.87,33H4a3,3,0,0,0-3,3v1.44A6.56,6.56,0,0,0,7.55,44h8.14l-2.38,17.6a3,3,0,0,0,3,3.4h34a3,3,0,0,0,3-2.6L53.5,61h5.81A3.77,3.77,0,0,0,63,57.28,4.21,4.21,0,0,0,63,56.66ZM45.55,42A4.58,4.58,0,0,1,41,37.49V36a3,3,0,0,0-3-3H17.11l2.5-5H55.37L49.65,39.5h0v0.08A4.54,4.54,0,0,1,45.55,42ZM50,17a3,3,0,0,1,2.23,1H47.76A3,3,0,0,1,50,17ZM38,17a3,3,0,0,1,2.23,1H35.76A3,3,0,0,1,38,17ZM26,17a3,3,0,0,1,2.23,1H23.76A3,3,0,0,1,26,17Zm-7,4a1,1,0,0,1,1-1h1a5,5,0,0,0,5,5,1,1,0,0,0,0-2,3,3,0,0,1-3-3H33a5,5,0,0,0,5,5,1,1,0,0,0,0-2,3,3,0,0,1-3-3H45a5,5,0,0,0,5,5,1,1,0,1,0,0-2,3,3,0,0,1-3-3h9a1,1,0,0,1,1,1v4a1,1,0,0,1-1,1H20a1,1,0,0,1-1-1V21ZM51.54,59.92l-0.31,2.26a1,1,0,0,1-1,.87h-34a1,1,0,0,1-1-1.13L17.7,44H45.55A6.58,6.58,0,0,0,49,43a6.49,6.49,0,0,0,2.41-2.57v-0.1l3.77-7.54Z"}),i.a.createElement("path",{fill:"currentColor",d:"M25,46H22a1,1,0,0,0,0,2h3A1,1,0,1,0,25,46Z"}),i.a.createElement("path",{fill:"currentColor",d:"M33,46H30a1,1,0,0,0,0,2h3A1,1,0,1,0,33,46Z"}),i.a.createElement("path",{fill:"currentColor",d:"M41,46H38a1,1,0,0,0,0,2h3A1,1,0,1,0,41,46Z"}),i.a.createElement("path",{fill:"currentColor",d:"M49,46H46a1,1,0,0,0,0,2h3A1,1,0,1,0,49,46Z"}),i.a.createElement("path",{fill:"currentColor",d:"M24,51H21a1,1,0,0,0,0,2h3A1,1,0,1,0,24,51Z"}),i.a.createElement("path",{fill:"currentColor",d:"M32,51H29a1,1,0,0,0,0,2h3A1,1,0,1,0,32,51Z"}),i.a.createElement("path",{fill:"currentColor",d:"M40,51H37a1,1,0,0,0,0,2h3A1,1,0,1,0,40,51Z"}),i.a.createElement("path",{fill:"currentColor",d:"M48,51H45a1,1,0,0,0,0,2h3A1,1,0,1,0,48,51Z"}),i.a.createElement("path",{fill:"currentColor",d:"M23,56H20a1,1,0,0,0,0,2h3A1,1,0,1,0,23,56Z"}),i.a.createElement("path",{fill:"currentColor",d:"M31,56H28a1,1,0,0,0,0,2h3A1,1,0,1,0,31,56Z"}),i.a.createElement("path",{fill:"currentColor",d:"M39,56H36a1,1,0,0,0,0,2h3A1,1,0,1,0,39,56Z"}),i.a.createElement("path",{fill:"currentColor",d:"M47,56H44a1,1,0,0,0,0,2h3A1,1,0,1,0,47,56Z"}))}var I=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("p",{className:"numberDate"},this.props.num,i.a.createElement("sup",null,"th")))}}]),t}(n.Component),L=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("p",{className:"wordDate"},this.props.date)}}]),t}(n.Component),P=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e={1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",0:"Sun"};if(this.props.vw<624)var t=new Date(this.props.mobileTable[0]),a=[[t.getDate(),e[t.getDay()]]];else a=this.props.dates.map(function(t){var a=new Date(t);return[a.getDate(),e[a.getDay()]]});return i.a.createElement("div",{className:"weekdays"},i.a.createElement("div",{className:"weekdays"},a.map(function(e){return i.a.createElement("div",{key:e,className:"weekdays_day"},i.a.createElement(I,{num:e[0]}),i.a.createElement(L,{className:"weekLetter",date:e[1]}))})))}}]),t}(n.Component),Z=a(97).a.Range,F=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,B=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={email:"",name:"",emailLabel:"Email"},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.name,r=t.emailLabel,l=a.length>0&&n.length>0&&"Email"===r;return i.a.createElement("div",{className:"create"},i.a.createElement("div",{className:"create_brand"},i.a.createElement(x,null),i.a.createElement("h1",{className:"create_brand_title"},"I'm Free FYI")),i.a.createElement("h1",{className:"create_title"},"Create a meeting"),i.a.createElement("p",{className:"create_subtext"},"No Signups! Set your availability, Share your personal link, Receive meeting confirmation on your email."),i.a.createElement("p",{className:"create_instruction"},"We need a little bit of information from you before we get started:"),i.a.createElement("p",{className:"create_subtext"},"This meeting will occur between ",this.props.startTime," and"," ",this.props.endTime,". Drag the slider to change."),i.a.createElement("div",{className:"create_range"},i.a.createElement(Z,{allowCross:!1,value:this.props.value,onChange:this.props.onSliderChange})),i.a.createElement("div",{className:"create_timezone"},i.a.createElement("p",{className:"create_timezone_label"},"What time zone would you like the times to be displayed in?"),i.a.createElement("select",{className:"create_timezone_selection",onChange:this.props.onTimezoneChange,value:this.props.timezone},i.a.createElement("option",{className:"create_timezone_selection-option",value:"PST"},"PST"),i.a.createElement("option",{className:"create_timezone_selection-option",value:"MST"},"MST"),i.a.createElement("option",{className:"create_timezone_selection-option",value:"EST"},"EST"))),i.a.createElement("div",{className:"create_shouldEmail"},i.a.createElement("p",{className:"create_shouldEmail_label"},"Where do you want meeting confirmation from your invitees delivered?")),i.a.createElement("div",{className:"create_emails"},i.a.createElement("div",{className:"invitee_details"},i.a.createElement("form",{className:"create_emails_form invitee_details_form"},i.a.createElement("input",{className:"create_emails_form_input",placeholder:"Name",id:"yourName",onChange:function(t){e.setState({name:t.target.value}),e.props.yourNameEmailHandler(t)},required:!0,type:"text"}),i.a.createElement("label",{htmlFor:"name",className:"create_emails_form_input_label"},"Name")),i.a.createElement("form",{className:"create_emails_form"},i.a.createElement("input",{className:"create_emails_form_input",placeholder:"Email",id:"yourEmail",onChange:function(t){e.setState({email:t.target.value}),F.test(String(t.target.value).toLowerCase())?(e.props.yourNameEmailHandler(t),e.setState({emailLabel:"Email"})):e.setState({emailLabel:"Invalid Email"})},required:!0,type:"text"}),i.a.createElement("label",{htmlFor:"email",className:"create_emails_form_input_label"},this.state.emailLabel)))),i.a.createElement(c.b,{to:"/create"},i.a.createElement("button",{type:"button",disabled:!l,onClick:function(){return e.props.createdEvent()},className:"create_event"},"Create Event")),i.a.createElement(A,null))}}]),t}(n.Component),J=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("button",{onClick:this.props.clicked,className:"week_arrow"},"\u2190")}}]),t}(n.Component),V=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("button",{className:"week_arrow",onClick:this.props.clicked},"\u2192")}}]),t}(n.Component),R=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},a=this.props.dates.map(function(e){var a=new Date(e);return[a.getDate(),t[a.getMonth()]]}),n=this.props.mobileTable;return n=n[0].split(" "),i.a.createElement("div",{className:"week"},i.a.createElement(J,{clicked:function(){return e.props.weekButtonHandler(!1)}}),i.a.createElement("div",{className:"week_title"},this.props.vw<624?i.a.createElement("p",{className:"week_title"},n[0]," ",n[1].split(",")[0]):i.a.createElement("p",{className:"week_title"},a[0][1]," ",a[0][0],"\u2013",a[6][0])),i.a.createElement(V,{clicked:function(){return e.props.weekButtonHandler(!0)}}))}}]),t}(n.Component),Y=a(95),U=a(13),G=a(96);function q(){var e=Object(Y.a)(["\n    display: block;\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    z-index: 1000;\n    border-color: #333333;\n"]);return q=function(){return e},e}var $=Object(U.css)(q()),K=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loading:!0},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"sweet-loading"},i.a.createElement(G.SyncLoader,{css:$,sizeUnit:"px",size:15,color:"#333333",loading:this.state.loading}))}}]),t}(i.a.Component),Q=(a(69),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={error:!1},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;setTimeout(function(){0===e.props.eventCode.length&&e.setState({error:!0})},8e3)}},{key:"render",value:function(){return this.state.error?i.a.createElement(f.a,{to:"/"}):this.props.eventCode.length?i.a.createElement("div",null,i.a.createElement("div",{className:"bar"},i.a.createElement("div",{className:"brand"},i.a.createElement(x,null),i.a.createElement("div",{className:"brand-title"},i.a.createElement("h1",{className:"brand-title-text"},"I'm Free FYI")))),i.a.createElement("div",{className:"sharing"},i.a.createElement("p",null,"You can share this URL with your invitees:"),i.a.createElement("a",{className:"sharing_link",href:"http://localhost:3000/event/".concat(this.props.eventCode)},"https://imfree.fyi/event/".concat(this.props.eventCode)))):i.a.createElement(K,null)}}]),t}(n.Component)),X=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={error:!1},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){void 0===this.props.data.location.data&&this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?i.a.createElement(f.a,{to:"/"}):i.a.createElement("div",null,i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"bar"},i.a.createElement("div",{className:"brand"},i.a.createElement(x,null),i.a.createElement("div",{className:"brand-title"},i.a.createElement("h1",{className:"brand-title-text"},"I'm Free FYI"))))),i.a.createElement("div",{className:"sharing"},i.a.createElement("p",null,"Great! Your meeting is booked"),i.a.createElement("p",null,"Look for a meeting invite on your inbox and add it to your calendar")))}}]),t}(n.Component),ee=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,te=function(e){return i.a.createElement("div",{className:"topbar"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"create"},i.a.createElement("p",null,"Confirm your availability"),i.a.createElement("div",{className:"create_timezone"},i.a.createElement("p",{className:"create_timezone_label"},"What time zone would you like the times to be in?"),i.a.createElement("select",{className:"create_timezone_selection",onChange:e.onInviteeTimezoneChange,value:e.inviteeTimezone},i.a.createElement("option",{className:"create_timezone_selection-option",value:"PST"},"PST"),i.a.createElement("option",{className:"create_timezone_selection-option",value:"MST"},"MST"),i.a.createElement("option",{className:"create_timezone_selection-option",value:"EST"},"EST"))),i.a.createElement("div",{className:"invitee_details"},i.a.createElement("form",{className:"create_emails_form invitee_details_form"},i.a.createElement("input",{className:"create_emails_form_input",placeholder:"Name",id:"inviteeName",onChange:function(t){return e.inviteeDetailsHandler(t,"Email")},type:"text"}),i.a.createElement("label",{className:"create_emails_form_input_label"},"Name")),i.a.createElement("form",{className:"create_emails_form invitee_details_form"},i.a.createElement("input",{className:"create_emails_form_input",placeholder:"Email",id:"inviteeEmail",onChange:function(t){ee.test(String(t.target.value).toLowerCase())?e.inviteeDetailsHandler(t,"Email"):e.inviteeDetailsHandler(t,"Invalid Email")},type:"text"}),i.a.createElement("label",{className:"create_emails_form_input_label"},e.emailLabel)),i.a.createElement("form",{className:"create_emails_form invitee_details_form"},i.a.createElement("input",{className:"create_emails_form_input",placeholder:"Phone number",id:"inviteeNumber",onChange:function(t){return e.inviteeDetailsHandler(t,"Email")},type:"text"}),i.a.createElement("label",{className:"create_emails_form_input_label"},"Phone number"))))))},ae="https://us-central1-imfreefyi.cloudfunctions.net/imfreefyi/",ne=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).updateViewportWidth=function(){Object(b.a)(a.initWindow(),500)},a.initWindow=function(){a.setState({viewportWidth:window.innerWidth})},a.onTimeSelect=function(e,t,n){e.preventDefault();var i=Object(o.a)(a.state.table),r=[];1===a.state.window?i.forEach(function(e){var a=k(Object.keys(e));Object.keys(e).forEach(function(e,i){var l=a[i].getDate();l===parseInt(t)&&(1===n?r.push(e):2===n&&(r=r.filter(function(e){return new Date(e).getDate()!==l})))})}):i.forEach(function(e){Object.keys(e).forEach(function(e){e===t&&(1===n?r.push(e):2===n&&(r=r.filter(function(e){return e!==t})))})}),i=function(e,t){return e.map(function(e){return Object.keys(e).forEach(function(a){t.includes(a)?1===e[a]&&(e[a]=2):2===e[a]&&(e[a]=1)}),e}),e}(i,r);var l=new Date(r[0]),c=new Date(l);c.setMinutes(c.getMinutes()+parseInt(a.state.window)),a.setState({table:i,inviteeSelection:r,calStart:l,calEnd:c})},a.weekButtonHandler=function(e){var t=a.state.viewportWidth,n=a.state.dates[0],i=a.state.dates[6],r=a.state.mobileTable,l=a.state.selection,c=_(a.state.startTime,a.state.endTime);if(t<624){var o=k(r);o=C(o=o.map(function(t){return j(t,e)}));var s=[];(c=_(a.state.startTime,a.state.endTime)).forEach(function(e){s.push("".concat(e,":00")),s.push("".concat(e,":15")),s.push("".concat(e,":30")),s.push("".concat(e,":45"))});var m=[];if(s.forEach(function(e){m.push("".concat(o[0]," ").concat(e))}),a.state.dates.includes(o[0]))u=a.state.dates;else{if(e)var u=O(i,e);else u=O(n,e);u=C(u)}a.setState({mobileTable:m}),h=H((d=z(u,c))[0],l),a.setState({dates:u,table:h})}else{var d=z(u=C(u=O(e?i:n,e)),c),h=H(d[0],l);a.setState({dates:u,table:h,mobileTable:d[1]})}},a.inviteeDetailsHandler=function(e,t){var n=e.target.id,i=e.target.value;"inviteeName"===n?a.setState({inviteeName:i}):"inviteeEmail"===n?a.setState({inviteeEmail:i,emailLabel:t}):a.setState({inviteeNumber:i})},a.onInviteeTimezoneChange=function(e){a.setState({inviteeTimezone:e.target.value})},a.confirmTimes=function(){var e=a.state.selection,t=[],n=a.props.id,i=ae+n,r=ae+"meeting",l=a.state.inviteeSelection;e.forEach(function(e){l.includes(e)||t.push(e)});var c={keyval:{state:{selection:t}}};fetch(i,{method:"PUT",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log("Put:",e)}),c={meeting:{eventTitle:a.state.eventTitle,yourEmail:a.state.yourEmail,yourName:a.state.yourName,inviteeName:a.state.inviteeName,inviteeEmail:a.state.inviteeEmail,inviteeNumber:a.state.inviteeNumber,calStart:a.state.calStart,calEnd:a.state.calEnd,inviteeTimezone:a.state.inviteeTimezone,timezone:a.state.timezone}},fetch(r,{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log("Posted meeting:",e)})},a.getCalendarEvent=function(e){return fetch(ae+e,{method:"GET"}).then(function(e){return e.json()}).then(function(e){return console.log("Got:",JSON.parse(JSON.stringify(e)).data.state),JSON.parse(JSON.stringify(e)).data.state}).catch(function(e){console.log(e),a.setState({error:!0})})},a.state={dates:[],inviteeSelection:[],eventTitle:"",yourEmail:"",yourName:"",inviteeName:"",inviteeEmail:"",inviteeNumber:"",inviteeTimezone:"PST",timezone:"",calStart:"",calEnd:"",error:!1,emailLabel:"Email"},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:!0})}},{key:"componentWillMount",value:function(){var e=this,t=this.props.id;this.getCalendarEvent(t).then(function(t){t.viewportWidth=window.innerWidth;var a=H(t.table,t.selection);t.table=a,e.setState(t)}).catch(function(t){e.setState({error:!0})})}},{key:"componentDidMount",value:function(){this.updateViewportWidth(),window.addEventListener("resize",this.updateViewportWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewportWidth)}},{key:"render",value:function(){var e=this;console.log("inviteepage's state",this.state);var t=this.state,a=t.dates,n=t.inviteeName,r=t.inviteeEmail,l=t.inviteeSelection,o=t.emailLabel,s=n.length>0&&r.length>0&&l.length>0&&"Email"===o;return this.state.error?i.a.createElement(f.a,{to:"/error"}):a.length?i.a.createElement("div",{ref:this.viewportWidthRef,className:"App"},i.a.createElement("div",{className:"bar"},i.a.createElement("div",{className:"brand"},i.a.createElement(x,null),i.a.createElement("div",{className:"brand-title"},i.a.createElement("h1",{className:"brand-title-text"},"I'm Free FYI")))),i.a.createElement(te,{inviteeDetailsHandler:this.inviteeDetailsHandler,inviteeTimezone:this.state.inviteeTimezone,onInviteeTimezoneChange:this.onInviteeTimezoneChange,emailLabel:this.state.emailLabel}),i.a.createElement("div",{className:"sticks"},i.a.createElement(R,{dates:this.state.dates,mobileTable:this.state.mobileTable,weekButtonHandler:this.weekButtonHandler,vw:this.state.viewportWidth}),i.a.createElement(P,{vw:this.state.viewportWidth,dates:this.state.dates,mobileTable:this.state.mobileTable,className:"stickyScroll"})),i.a.createElement(M,{creatorTimezone:this.state.timezone,inviteeTimezone:this.state.inviteeTimezone,dates:this.state.dates,mobileTable:this.state.mobileTable,window:this.state.window,table:this.state.table,onTimeSelect:this.onTimeSelect,vw:this.state.viewportWidth}),i.a.createElement("div",{className:"create"},i.a.createElement(c.b,{to:{pathname:"/confirmed/".concat(this.props.id),data:{calStart:this.state.calStart,calEnd:this.state.calEnd,eventTitle:this.state.eventTitle,id:this.props.id}}},i.a.createElement("button",{className:"create_event",type:"button",disabled:!s,onClick:function(){return e.confirmTimes()}},"Confirm times"))),i.a.createElement(A,null)):i.a.createElement(K,null)}}]),t}(n.Component),ie=function(e){return i.a.createElement("div",null,i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"bar"},i.a.createElement("div",{className:"brand"},i.a.createElement(x,null),i.a.createElement("div",{className:"brand-title"},i.a.createElement("h1",{className:"brand-title-text"},"I'm Free FYI"))))),i.a.createElement("div",{className:"sharing"},i.a.createElement("p",null,"Oops! Something went wrong")))},re=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).initWindow=function(){a.setState({viewportWidth:window.innerWidth})},a.updateViewportWidth=function(){Object(b.a)(a.initWindow(),500)},a.onSliderChange=function(e){a.setState({value:e});var t={"0-4":"5 am","5-9":"6 am","10-14":"7 am","15-19":"8 am","20-24":"9 am","25-29":"10 am","30-34":"11 am","35-39":"12 pm","40-44":"1 pm","45-49":"2 pm","50-54":"3 pm","55-59":"4 pm","60-64":"5 pm","65-69":"6 pm","70-74":"7 pm","75-79":"8 pm","80-86":"9 pm","87-94":"10 pm","95-100":"11 pm"};for(var n in t){var i=n.split("-"),r=t[n];e[0]>=i[0]&&e[0]<i[1]&&a.setState({startTime:r}),e[1]>=i[0]&&e[1]<i[1]&&a.setState({endTime:r})}},a.handleEmailToggle=function(){a.setState({shouldEmail:!a.state.shouldEmail}),setTimeout(function(){a.state.shouldEmail&&window.scrollTo(0,1e3)},100)},a.onTimezoneChange=function(e){a.setState({timezone:e.target.value})},a.emailHandler=function(e){a.setState(e)},a.eventCodeHandler=function(e){a.setState({eventCode:e})},a.yourNameEmailHandler=function(e){var t=e.target.id,n=e.target.value;"yourName"===t?a.setState({yourName:n,eventTitle:n+"'s meeting"}):a.setState({yourEmail:n})},a.createdEvent=function(){var e=g(),t=_(a.state.startTime,a.state.endTime),n=z(e,t);a.setState({dates:e,times:t,table:n[0],mobileTable:n[1]})},a.onSelectWindow=function(e){if(1===e){var t=a.state.table;t=D(t),a.setState(Object(s.a)({},a.state,{table:t,window:e,selection:[]}))}else a.setState(Object(s.a)({},a.state,{window:e}))},a.onTimeSelect=function(e,t,n){e.preventDefault();var i=Object(o.a)(a.state.table),r=Object(o.a)(a.state.selection);1===a.state.window?i.forEach(function(e){var a=k(Object.keys(e));Object.keys(e).forEach(function(e,i){var l=a[i].getDate();l===parseInt(t)&&(0===n?r.push(e):r=r.filter(function(e){return new Date(e).getDate()!==l}))})}):i.forEach(function(e){Object.keys(e).forEach(function(e){e===t&&(0===n?r.push(e):r=r.filter(function(e){return e!==t}))})}),i=H(i,r),a.setState({table:i,selection:r})},a.weekButtonHandler=function(e){var t=a.state.viewportWidth,n=a.state.dates[0],i=a.state.dates[6],r=a.state.mobileTable,l=a.state.selection,c=_(a.state.startTime,a.state.endTime);if(t<624){var o=k(r);o=C(o=o.map(function(t){return j(t,e)}));var s=[];(c=_(a.state.startTime,a.state.endTime)).forEach(function(e){s.push("".concat(e,":00")),s.push("".concat(e,":15")),s.push("".concat(e,":30")),s.push("".concat(e,":45"))});var m=[];if(s.forEach(function(e){m.push("".concat(o[0]," ").concat(e))}),a.state.dates.includes(o[0]))u=a.state.dates;else{if(e)var u=O(i,e);else u=O(n,e);u=C(u)}a.setState({mobileTable:m}),h=H((d=z(u,c))[0],l),a.setState({dates:u,table:h,selection:l})}else{var d=z(u=C(u=O(e?i:n,e)),c),h=H(d[0],l);a.setState({dates:u,table:h,mobileTable:d[1],selection:l})}},a.createCalendarEvent=function(){var e=a.state,t=a.state.table;D(t),e.table=t;var n={state:e};fetch(ae+"user",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log("Posted state id:",e.id),this.setState({eventCode:e.id})}.bind(Object(p.a)(Object(p.a)(a)))).catch(function(e){console.log(e),a.setState({error:!0})})},a.getCalendarEvent=function(e){fetch(ae+e,{method:"GET"}).then(function(e){return e.json()}).then(function(e){var t=JSON.parse(JSON.stringify(e)).data.state;console.log("Got state:",t),this.setState(t)}.bind(Object(p.a)(Object(p.a)(a)))).catch(function(e){console.log(e),a.setState({error:!0})})},a.state={window:30,dates:[],times:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],table:[],selection:[],mobileTable:[],viewportWidth:800,value:[22,62],startTime:"9 am",endTime:"5 pm",timezone:"PST",shouldEmail:!1,yourEmail:"",yourName:"",theirEmails:[""],numPeople:2,eventCode:"",eventTitle:"",error:!1},a}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=g(),t=_(this.state.startTime,this.state.endTime),a=z(e,t);this.setState({dates:e,times:t,table:a[0],mobileTable:a[1]})}},{key:"componentDidMount",value:function(){this.updateViewportWidth(),window.addEventListener("resize",this.updateViewportWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewportWidth)}},{key:"render",value:function(){var e=this;return console.log("current state:",this.state),i.a.createElement("div",null,i.a.createElement(f.d,null,i.a.createElement(f.b,{path:"/",exact:!0,render:function(){return i.a.createElement(B,{value:e.state.value,startTime:e.state.startTime,endTime:e.state.endTime,timezone:e.state.timezone,shouldEmail:e.state.shouldEmail,yourEmail:e.state.yourEmail,yourNameEmailHandler:e.yourNameEmailHandler,theirEmails:e.state.theirEmails,numPeople:e.state.numPeople,emailHandler:e.emailHandler,onSliderChange:e.onSliderChange,createdEvent:e.createdEvent,onTimezoneChange:e.onTimezoneChange,handleEmailToggle:e.handleEmailToggle})}}),i.a.createElement(f.b,{path:"/create",exact:!0,render:function(){return 0!==e.state.yourEmail.length?i.a.createElement("div",{ref:e.viewportWidthRef,className:"App"},i.a.createElement("div",{className:"bar"},i.a.createElement("div",{className:"brand"},i.a.createElement(x,null),i.a.createElement("div",{className:"brand-title"},i.a.createElement("h1",{className:"brand-title-text"},"I'm Free FYI")))),i.a.createElement(N,{onSelectWindow:e.onSelectWindow}),i.a.createElement("div",{className:"sticks"},i.a.createElement(R,{dates:e.state.dates,mobileTable:e.state.mobileTable,weekButtonHandler:e.weekButtonHandler,vw:e.state.viewportWidth}),i.a.createElement(P,{vw:e.state.viewportWidth,dates:e.state.dates,mobileTable:e.state.mobileTable,className:"stickyScroll"})),i.a.createElement(M,{creatorTimezone:e.state.timezone,inviteeTimezone:e.state.timezone,dates:e.state.dates,mobileTable:e.state.mobileTable,window:e.state.window,table:e.state.table,onTimeSelect:e.onTimeSelect,vw:e.state.viewportWidth}),i.a.createElement("div",{className:"create"},i.a.createElement(c.b,{to:"/eventcreated"},i.a.createElement("button",{className:"create_event",type:"button",disabled:0===e.state.selection.length,onClick:function(){return e.createCalendarEvent()}},"Submit times"))),i.a.createElement(A,null)):i.a.createElement(f.a,{to:"/"})}}),i.a.createElement(f.b,{path:"/eventcreated",exact:!0,render:function(){return i.a.createElement("div",{ref:e.viewportWidthRef,className:"App"},i.a.createElement(Q,{eventCode:e.state.eventCode}))}}),i.a.createElement(f.b,{path:"/event/:id",exact:!0,render:function(e){return i.a.createElement(ne,{id:e.match.params.id})}}),i.a.createElement(f.b,{path:"/confirmed/:event",render:function(t){return i.a.createElement("div",{ref:e.viewportWidthRef,className:"App"},i.a.createElement(X,{data:t}))}}),i.a.createElement(f.b,{path:"/error",exact:!0,render:function(t){return i.a.createElement("div",{ref:e.viewportWidthRef,className:"App"},i.a.createElement(ie,{data:t}))}}),i.a.createElement(f.b,{path:"/addtime",exact:!0,render:function(){return i.a.createElement("div",{ref:e.viewportWidthRef,className:"App"},i.a.createElement("div",{className:"bar"},i.a.createElement("div",{className:"brand"},i.a.createElement(x,null),i.a.createElement("div",{className:"brand-title"},i.a.createElement("h1",{className:"brand-title-text"},"I'm Free FYI")))),""===e.state.eventCode?i.a.createElement("div",{className:"create"},i.a.createElement("p",null,"Please input your code"),i.a.createElement("div",{className:"create_emails_yours"},i.a.createElement("form",{className:"create_emails_form"},i.a.createElement("input",{className:"create_emails_form_input",placeholder:"Enter the event code",id:"email",onChange:e.eventCodeHandler,required:!0,type:"text"}),i.a.createElement("label",{htmlFor:"email",className:"create_emails_form_input_label"},"Enter your event code"))),i.a.createElement("button",{className:"create_event",onClick:e.codeSubmission},"Submit code")):i.a.createElement("div",{className:"create"},i.a.createElement("h1",{className:"create_addtime"},"Add the times that work best for you.")),""===e.state.eventCode?null:i.a.createElement("div",{className:"sticks"},i.a.createElement(R,{dates:e.state.dates,weekButtonHandler:e.weekButtonHandler,vw:e.state.viewportWidth}),i.a.createElement(P,{vw:e.state.viewportWidth,dates:e.state.dates,className:"stickyScroll"})),""===e.state.eventCode?null:i.a.createElement(M,{dates:e.state.dates,window:e.state.window,table:e.state.table,onTimeSelect:e.onTimeSelect,vw:e.state.viewportWidth}),""===e.state.eventCode?null:i.a.createElement("div",{className:"create"},i.a.createElement("button",{className:"create_event"},"Submit times")),i.a.createElement(A,null))}}),i.a.createElement(f.b,{render:function(){return i.a.createElement(f.a,{to:"/"})}})))}}]),t}(n.Component),le=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),ce=Object(f.f)(le);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(c.a,null,i.a.createElement(ce,null,i.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},69:function(e,t,a){},98:function(e,t,a){e.exports=a(190)}},[[98,1,2]]]);
//# sourceMappingURL=main.7617575f.chunk.js.map